<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Considerations – Open Science Guide for Parkinson's Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./tools.html" rel="next">
<link href="./principles.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-09ce80c0277fc360936e517f68e5459d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Open Science Guide for Parkinson’s Research</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MJFF-ResearchCommunity/open-science-guide"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./considerations.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Considerations</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./principles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./considerations.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Considerations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Examples</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-sharing-privacy" id="toc-data-sharing-privacy" class="nav-link active" data-scroll-target="#data-sharing-privacy"><span class="header-section-number">2.1</span> Data Sharing &amp; Privacy</a>
  <ul class="collapse">
  <li><a href="#where-to-share-your-data" id="toc-where-to-share-your-data" class="nav-link" data-scroll-target="#where-to-share-your-data"><span class="header-section-number">2.1.1</span> Where to share your data</a></li>
  <li><a href="#data-privacy" id="toc-data-privacy" class="nav-link" data-scroll-target="#data-privacy"><span class="header-section-number">2.1.2</span> Data privacy</a></li>
  </ul></li>
  <li><a href="#project-folder-structure" id="toc-project-folder-structure" class="nav-link" data-scroll-target="#project-folder-structure"><span class="header-section-number">2.2</span> Project Folder Structure</a></li>
  <li><a href="#code-accessibility-version-control" id="toc-code-accessibility-version-control" class="nav-link" data-scroll-target="#code-accessibility-version-control"><span class="header-section-number">2.3</span> Code Accessibility &amp; Version Control</a>
  <ul class="collapse">
  <li><a href="#environment-setup" id="toc-environment-setup" class="nav-link" data-scroll-target="#environment-setup"><span class="header-section-number">2.3.1</span> Environment Setup</a></li>
  <li><a href="#file-paths" id="toc-file-paths" class="nav-link" data-scroll-target="#file-paths"><span class="header-section-number">2.3.2</span> File paths</a></li>
  </ul></li>
  <li><a href="#documentation-the-key-to-reusability" id="toc-documentation-the-key-to-reusability" class="nav-link" data-scroll-target="#documentation-the-key-to-reusability"><span class="header-section-number">2.4</span> Documentation: The Key to Reusability</a>
  <ul class="collapse">
  <li><a href="#essential-documentation" id="toc-essential-documentation" class="nav-link" data-scroll-target="#essential-documentation"><span class="header-section-number">2.4.1</span> Essential documentation</a></li>
  <li><a href="#three-levels-of-documentation" id="toc-three-levels-of-documentation" class="nav-link" data-scroll-target="#three-levels-of-documentation"><span class="header-section-number">2.4.2</span> Three levels of documentation</a></li>
  </ul></li>
  <li><a href="#pre-registration-study-design-transparency" id="toc-pre-registration-study-design-transparency" class="nav-link" data-scroll-target="#pre-registration-study-design-transparency"><span class="header-section-number">2.5</span> Pre-registration &amp; Study Design Transparency</a>
  <ul class="collapse">
  <li><a href="#what-to-pre-register" id="toc-what-to-pre-register" class="nav-link" data-scroll-target="#what-to-pre-register"><span class="header-section-number">2.5.1</span> What to pre-register</a></li>
  <li><a href="#where-to-pre-register" id="toc-where-to-pre-register" class="nav-link" data-scroll-target="#where-to-pre-register"><span class="header-section-number">2.5.2</span> Where to pre-register</a></li>
  </ul></li>
  <li><a href="#making-projects-citeable" id="toc-making-projects-citeable" class="nav-link" data-scroll-target="#making-projects-citeable"><span class="header-section-number">2.6</span> Making Projects Citeable</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-considerations" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Considerations</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-sharing-privacy" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="data-sharing-privacy"><span class="header-section-number">2.1</span> Data Sharing &amp; Privacy</h2>
<p>One component of Open Science is data sharing. The FAIR Data Principles provide a framework to enhance the reusability of data <span class="citation" data-cites="wilkinsonFAIRGuidingPrinciples2016">(<a href="references.html#ref-wilkinsonFAIRGuidingPrinciples2016" role="doc-biblioref">Wilkinson et al. 2016</a>)</span>.</p>
<p><strong>FAIR</strong> Data Principles: Making data <strong>F</strong>indable, <strong>A</strong>ccessible, <strong>I</strong>nteroperable, and <strong>R</strong>eusable.</p>
<p>For an example, the <a href="https://incf.org/">INCF</a> is employing FAIR Data Principles and has published a <a href="https://www.incf.org/incf-fair-roadmap">FAIR roadmap for neuroscience</a>.</p>
<p>Careful consideration should be given to participants’ privacy when developing procedures (e.g., consent) for sharing data <span class="citation" data-cites="dennisPrivacyOpenScience2019">(<a href="references.html#ref-dennisPrivacyOpenScience2019" role="doc-biblioref">Dennis et al. 2019</a>)</span>.</p>
<section id="where-to-share-your-data" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="where-to-share-your-data"><span class="header-section-number">2.1.1</span> Where to share your data</h3>
<ul>
<li><a href="https://zenodo.org/">Zenodo</a><br>
</li>
<li><a href="https://www.kaggle.com/">Kaggle</a><br>
</li>
<li><a href="https://osf.io/">OSF (Open Science Framework)</a><br>
</li>
<li><a href="https://datadryad.org/">Dryad</a></li>
</ul>
<p>If data is publicly available, provide a link to the source. If data cannot be shared, consider providing a <strong>sample dataset</strong> in the repository.</p>
</section>
<section id="data-privacy" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="data-privacy"><span class="header-section-number">2.1.2</span> Data privacy</h3>
<p>While open science promotes transparency, some data must remain private:</p>
<ul>
<li><strong>Personally Identifiable Information (PII)</strong>: Follow legal guidelines (e.g., GDPR, HIPAA).<br>
</li>
<li><strong>Sensitive datasets</strong>: Use controlled-access repositories when needed.<br>
</li>
<li><strong>Anonymization</strong>: If sharing is restricted, remove identifiable details or aggregate data.</li>
</ul>
</section>
</section>
<section id="project-folder-structure" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="project-folder-structure"><span class="header-section-number">2.2</span> Project Folder Structure</h2>
<p>A well-structured project is <strong>transparent, reproducible, and reusable</strong>. A clear and consistent folder structure makes collaboration easier and ensures reproducibility. Here’s a basic template for a data science project:</p>
<pre><code>├── data/          # Raw &amp; processed datasets  
├── scripts/       # Code and analysis scripts  
├── results/       # Figures, tables, and outputs  
├── docs/          # Documentation and notes  
├── env/           # Dependency files (requirements.txt, environment.yml)  
├── README.md      # Project overview  
└── LICENSE        # License for open-source sharing  </code></pre>
<p>For best practices in structuring projects, consider these templates:</p>
<ul>
<li><a href="https://github.com/MJFF-ResearchCommunity/small-analysis-project-template">Small Project Template</a><br>
</li>
<li><a href="https://drivendata.github.io/cookiecutter-data-science/">Cookiecutter Data Science</a></li>
</ul>
</section>
<section id="code-accessibility-version-control" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="code-accessibility-version-control"><span class="header-section-number">2.3</span> Code Accessibility &amp; Version Control</h2>
<p>Using version control (e.g., <a href="https://git-scm.com/docs/user-manual">Git</a>) ensures <strong>traceability, collaboration, and reproducibility</strong>.</p>
<p>A public repository allows easy access and contributions. Here are places where you can store your version-controlled code publicly:</p>
<ul>
<li><a href="https://github.com/">GitHub</a></li>
<li><a href="https://about.gitlab.com/">GitLab</a></li>
<li><a href="https://bitbucket.org/product/">Bitbucket</a></li>
</ul>
<section id="environment-setup" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="environment-setup"><span class="header-section-number">2.3.1</span> Environment Setup</h3>
<p>Reproducibility depends on properly defined environments:</p>
<ul>
<li><strong>Python</strong>: <code>requirements.txt</code> or <code>environment.yml</code> (for Conda)<br>
</li>
<li><strong>R</strong>: <code>renv.lock</code><br>
</li>
<li><strong>Docker</strong>: <code>Dockerfile</code> for containerized workflows</li>
</ul>
</section>
<section id="file-paths" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="file-paths"><span class="header-section-number">2.3.2</span> File paths</h3>
<ul>
<li><strong>Use relative paths</strong> in your code for better portability (<code>../data/file.csv</code>).<br>
</li>
<li>Avoid <strong>absolute paths</strong> (<code>/home/user/project/data/file.csv</code>) as they may break across systems.</li>
</ul>
</section>
</section>
<section id="documentation-the-key-to-reusability" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="documentation-the-key-to-reusability"><span class="header-section-number">2.4</span> Documentation: The Key to Reusability</h2>
<p>Comprehensive documentation ensures that others can understand, reproduce, and extend your work.</p>
<section id="essential-documentation" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="essential-documentation"><span class="header-section-number">2.4.1</span> Essential documentation</h3>
<ul>
<li><strong>README</strong>: Overview of the project, setup instructions, and usage.<br>
</li>
<li><strong>Data Dictionary</strong>: Describes datasets, variables, and formats.<br>
</li>
<li><strong>Code Documentation</strong>: Use clear comments and docstrings (<code>"""docstring"""</code>).<br>
</li>
<li><strong>Version Control Logs</strong>: Track changes in a <code>CHANGELOG.md</code> or commit messages.</li>
</ul>
</section>
<section id="three-levels-of-documentation" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="three-levels-of-documentation"><span class="header-section-number">2.4.2</span> Three levels of documentation</h3>
<ol type="1">
<li><strong>User-level</strong>: Instructions for external users (README files, tutorials).<br>
</li>
<li><strong>Developer-level</strong>: Internal notes for contributors (code comments, design docs).<br>
</li>
<li><strong>Machine-readable</strong>: Metadata in structured formats (e.g., JSON, YAML) for automation.</li>
</ol>
</section>
</section>
<section id="pre-registration-study-design-transparency" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="pre-registration-study-design-transparency"><span class="header-section-number">2.5</span> Pre-registration &amp; Study Design Transparency</h2>
<p>Pre-registration strengthens research integrity by documenting hypotheses and methods <strong>before</strong> data collection. Pre-registration does <strong>not</strong> limit flexibility—it simply provides a record of initial research intentions.</p>
<section id="what-to-pre-register" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="what-to-pre-register"><span class="header-section-number">2.5.1</span> What to pre-register</h3>
<ul>
<li>Research questions &amp; hypotheses<br>
</li>
<li>Planned methods &amp; analysis approach<br>
</li>
<li>Expected outcomes</li>
</ul>
</section>
<section id="where-to-pre-register" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="where-to-pre-register"><span class="header-section-number">2.5.2</span> Where to pre-register</h3>
<ul>
<li><a href="https://aspredicted.org/">AsPredicted</a> – Simple pre-registration for hypothesis-driven studies.<br>
</li>
<li><a href="https://osf.io/">Open Science Framework (OSF)</a> – More detailed project documentation.<br>
</li>
<li><a href="https://clinicaltrials.gov/">ClinicalTrials.gov</a> – Required for clinical research.</li>
</ul>
</section>
</section>
<section id="making-projects-citeable" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="making-projects-citeable"><span class="header-section-number">2.6</span> Making Projects Citeable</h2>
<p>We recommend establishing or creating a Digital Object Identifier (DOI) to enable researchers and the public to easily cite and access your work. A DOI is a permanent, unique identifier assigned to digital objects such as research papers, datasets, software, and code repositories. It provides a stable and citable link to the content, even if the location (URL) changes.</p>
<p>For example, a DOI link will look like this: <a href="https://doi.org/10.5281/zenodo.14984668">https://doi.org/10.5281/zenodo.14984668</a> with <strong>10.5281/zenodo.14984668</strong> representing the DOI. It will always resolve to the same location.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that <a href="https://doi.org/10.5281/zenodo.14984668">10.5281/zenodo.14984668</a> is in fact the DOI for this online book! Fun fact, with new pushes to the GitHub repository that hosts this book, Zenodo will automatically keep track of updates, while the DOI will always resolve to the latest version.</p>
</div>
</div>
<p>Here are some recommended places to create a DOI depending on where your Open Science project lives:</p>
<ul>
<li>For a GitHub repository → <a href="https://zenodo.org/">Zenodo</a> (automatic DOI for software releases).</li>
<li>For datasets → <a href="https://figshare.com/">Figshare</a>, <a href="https://datadryad.org/">Dryad</a>, or <a href="https://zenodo.org/">Zenodo</a>.</li>
<li>For a general research project → <a href="https://osf.io/">OSF</a>.</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-dennisPrivacyOpenScience2019" class="csl-entry" role="listitem">
Dennis, Simon, Paul Garrett, Hyungwook Yim, Jihun Hamm, Adam F. Osth, Vishnu Sreekumar, and Ben Stone. 2019. <span>“Privacy Versus Open Science.”</span> <em>Behavior Research Methods</em> 51 (4): 1839–48. <a href="https://doi.org/10.3758/s13428-019-01259-5">https://doi.org/10.3758/s13428-019-01259-5</a>.
</div>
<div id="ref-wilkinsonFAIRGuidingPrinciples2016" class="csl-entry" role="listitem">
Wilkinson, Mark D., Michel Dumontier, IJsbrand Jan Aalbersberg, Gabrielle Appleton, Myles Axton, Arie Baak, Niklas Blomberg, et al. 2016. <span>“The <span>FAIR Guiding Principles</span> for Scientific Data Management and Stewardship.”</span> <em>Scientific Data</em> 3 (1): 160018. <a href="https://doi.org/10.1038/sdata.2016.18">https://doi.org/10.1038/sdata.2016.18</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./principles.html" class="pagination-link" aria-label="Principles">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Principles</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./tools.html" class="pagination-link" aria-label="Tools">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tools</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>